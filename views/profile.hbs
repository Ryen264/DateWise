<div class="main-content">
    <div class="profile-section">
        <div class="profile">
            <div class="profile-pic">
                <img src="/assets/image/user.png" alt="">
            </div>
            <div class="profile-text">
                <h2 class="fullname">{{user.fullname}}</h2>
                <P><img src="/assets/icon/calendar.svg" alt=""> {{formatDate user.dateOfBirth}}</P>
                <P><img src="/assets/icon/mail.svg" alt=""> {{user.email}}</P>
                <P><img src="/assets/icon/position.svg" alt=""> 
                    {{#each user.districts }}
                        {{this}}
                    {{/each}}
                </P>
                </ul>
            </div>
        </div>
        <div>
            <button class="edit-button">Edit Profile</button>
            <button class="edit-button" onclick = "logout()">Log out </button>
        </div>
    </div>
    
    <div class="section-02">
        <h2>Your <span>Favorites Categories</span></h2>
        <nav class="menu-bar">
            <a href="#" class="menu-item active">All</a>
            <a href="#" class="menu-item">Food</a>
            <a href="#" class="menu-item">Drinks</a>
            <a href="#" class="menu-item">Activities</a>
            <a href="#" class="menu-item">Desserts</a>
        </nav>
        <div class="slider">
            <div class="slider-wrapper">
                <button class="slider-btn prev">
                    <img src="/assets/icon/left-arrow.svg" alt="Left" width="24" height="24">
                </button>
                <div class="slider-container">
                    <div class="slider-slide">
                        <div class="image-container">
                            <img src="/assets/image/restaurant.png" alt="Restaurant 1">
                            <button id="heart" class="heart-btn" onclick="toggleHeart(this)">
                                <img src="/assets/icon/heart.svg" alt="Heart icon">
                            </button>
                        </div>
                        <div class="text-container">
                            <h3>Mama Ngon - Luxury Restaurant</h3>
                            <p>‚è∞ 9:00 AM - 10:00 PM</p>
                            <p>üìç District 10, HCMC</p>
                            <p>üíµ From 100,000ƒë</p>
                        </div>
                    </div>
                    <div class="slider-slide">
                        <div class="image-container">
                            <img src="/assets/image/restaurant.png" alt="Restaurant 2">
                            <button id="heart" class="heart-btn" onclick="toggleHeart(this)">
                                <img src="/assets/icon/heart.svg" alt="Heart icon">
                            </button>
                        </div>
                        <div class="text-container">
                            <h3>Mama Ngon - Luxury Restaurant</h3>
                            <p>‚è∞ 9:00 AM - 10:00 PM</p>
                            <p>üìç District 2, HCMC</p>
                            <p>üíµ From 200,000ƒë</p>
                        </div>
                    </div>
                    <div class="slider-slide">
                        <div class="image-container">
                            <img src="/assets/image/restaurant.png" alt="Restaurant 3">
                            <button id="heart" class="heart-btn" onclick="toggleHeart(this)">
                                <img src="/assets/icon/heart.svg" alt="Heart icon">
                            </button>
                        </div>
                        <div class="text-container">
                            <h3>Mama Ngon - Luxury Restaurant</h3>
                            <p>‚è∞ 9:00 AM - 10:00 PM</p>
                            <p>üìç District 10, HCMC</p>
                            <p>üíµ From 100,000ƒë</p>
                        </div>
                    </div>   
                    <!-- Add more slides as needed -->
                </div>
                <button class="slider-btn next">
                    <img src="/assets/icon/right-arrow.svg" alt="Right" width="24" height="24">
                </button>
            </div>
        </div>        
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditModal()">√ó</span>
            <h2>Edit Profile</h2>
            <div class="modal-body">
                <div class="profile-info-section">
                    <h3>Profile Information</h3>
                    <div class="profile-pic-edit">
                       <img id="profile-image-preview" src="../asset/image/ava.png" alt="Current Profile Picture" >
                       <div>
                           <input type="file" id="profile-image-input" accept="image/png, image/jpeg" style="display: none;" onchange="loadProfileImage(event)">
                           <button onclick="document.getElementById('profile-image-input').click()" >Upload Photo</button>
                           <button onclick="removeProfileImage()">Remove</button>
                       </div>
                   </div>
                    <label for="full-name">Full name</label>
                    <input type="text" id="full-name" value="Amanada Smith">
                    <label for="email">Email address</label>
                    <input type="text" id="email" value="lovetodate@gmail.com" readonly>
                    <label for="date-of-birth">Date of birth</label>
                    <input type="date" id="date-of-birth" value="2004-02-01">
                    <label for="location">Location</label>
                    <select id="location">
                       <option value="Thu Duc City">Thu Duc City</option>
                        <option value="District 1">District 1</option>
                        <option value="District 2">District 2</option>
                        <option value="District 3">District 3</option>
                        <option value="District 4">District 4</option>
                        <option value="District 5">District 5</option>
                        <option value="District 6">District 6</option>
                        <option value="District 7">District 7</option>
                        <option value="District 8">District 8</option>
                        <option value="District 10">District 10</option>
                        <option value="District 11">District 11</option>
                        <option value="District 12">District 12</option>
                     </select>
                </div>
                <div class="password-section">
                    <h3>Change Password</h3>
                     <label for="current-password">Current Password</label>
                     <div class="password-input">
                        <input type="password" id="current-password" >
                        <span class="password-toggle" onclick="togglePasswordVisibility('current-password')">
                           <i class="fas fa-eye" id="eye-icon-current-password"></i>
                        </span>
                     </div>
                    <label for="new-password">New Password</label>
                     <div class="password-input">
                        <input type="password" id="new-password" >
                         <span class="password-toggle" onclick="togglePasswordVisibility('new-password')">
                           <i class="fas fa-eye" id="eye-icon-new-password"></i>
                         </span>
                     </div>
                    <label for="confirm-new-password">Confirm New Password</label>
                     <div class="password-input">
                         <input type="password" id="confirm-new-password">
                         <span class="password-toggle" onclick="togglePasswordVisibility('confirm-new-password')">
                           <i class="fas fa-eye" id="eye-icon-confirm-new-password"></i>
                         </span>
                    </div>
                 </div>
            </div>
             <div class="modal-footer">
                <button class="save-button" onclick="saveChanges()">Save</button>
                 <button class="cancel-button" onclick="closeEditModal()">Cancel</button>
             </div>
        </div>
    </div>

</div>
<script>
    function logout() {
        
        $.ajax({
            url: '/logout',
            type: 'GET',
            success: function(res) {
                localStorage.clear();
            },
            error: function(error) {
                console.error('Error:', error);
                console.log(error);
            }
        });
        window.location.href = '/';
    }
</script>